(function(){let a={'name':'lines_number','target_class':'lines-number','lines_class':'lines-number-lists','types':['plane','note'],'css':{'--size-textarea-line':{'unit':'px','value':0x18},'--size-padding':{'unit':'px','value':0xa},'--size-border':{'unit':'px','value':0x1},'--size-lines-number':{'unit':'px','value':0x28},'--color-border':{'unit':'','value':'#aaa'},'--color-line':{'unit':'','value':'#eee'},'--color-note-bg':{'unit':'','value':'white'}},'_':null},b=function(){this['id']=0x0,this['set_css']();};b['prototype']['set_css']=function(){if(document['querySelector']('.'+a['name']))return;let d=new c();var e=d['urlinfo'](d['currentScriptTag']),f=document['getElementsByTagName']('head'),g=f?f[0x0]:document['body'],h=document['createElement']('link');h['rel']='stylesheet',h['className']=a['name'];var j=e['dir']+e['file']['replace']('.js','.css'),k=[];for(var l in e['query']){k['push'](l);}h['href']=j+'?'+k['join'](''),h['onload']=function(){this['set_init']();}['bind'](this),g['appendChild'](h);},b['prototype']['set_init']=function(){let d=document['querySelectorAll']('.'+a['target_class']);if(d&&d['length'])for(let e=0x0;e<d['length'];e++){switch(d[e]['tagName']){case'TEXTAREA':this['set_textarea'](d[e]);break;default:this['set_codes'](d[e]);break;}}},b['prototype']['set_textarea']=function(d){if(!d)return;this['id']++;if(d['getAttribute']('data-lines')!=='number')return;for(var e in a['css']){new c()['set_stylesheet'](':root',e,String(a['css'][e]['value']+a['css'][e]['unit']));}let f=d['clientWidth'],g=Number(a['css']['--size-lines-number']['value']),h=Number(new c()['get_style'](d,'padding-left')['replace']('px','')),j=Number(new c()['get_style'](d,'padding-right')['replace']('px','')),k=h+j;d['setAttribute']('data-id',this['id']),new c()['event'](d,'scroll',function(t){this['on_scroll'](t);}['bind'](this)),new c()['event'](d,'keydown',function(t){this['on_keydown'](t);}['bind'](this));var n=new MutationObserver(function(t){this['on_resize'](t);}['bind'](this));const o={'attributes':!![],'childList':!![],'characterData':!![]};n['observe'](d,o),d['style']['setProperty']('width',f-g+'px','');let q=document['createElement']('div'),r=document['createElement']('div');q['appendChild'](r),q['className']=a['lines_class'],this['set_height'](d,q);let s=d['offsetLeft'];q['style']['setProperty']('left',s-g+'px',''),q['setAttribute']('data-id',this['id']),r['style']['setProperty']('padding-top',new c()['get_style'](d,'padding-top'),''),r['style']['setProperty']('padding-bottom',new c()['get_style'](d,'padding-bottom'),''),d['parentNode']['appendChild'](q),this['set_number'](q,d);},b['prototype']['set_height']=function(d,e){let f=d['clientHeight'];e['style']['setProperty']('height',f+'px',''),e['style']['setProperty']('top',d['offsetTop']+'px','');},b['prototype']['set_number']=function(d,e){if(!d||!d['childNodes'][0x0]||!e)return;if(e['scrollHeight']<d['childNodes'][0x0]['clientHeight'])return;let f=~~(e['scrollHeight']/a['css']['--size-textarea-line']['value']),g;for(let j=0x0;j<=f;j++){if(e['scrollHeight']<d['childNodes'][0x0]['clientHeight'])break;g=String(d['childNodes'][0x0]['textContent']['split']('\x0a')['length']||0x0)+'\x0a',d['childNodes'][0x0]['textContent']+=g;}let h=e['scrollTop'];d['scrollTop']=h;},b['prototype']['set_codes']=function(d){if(!d)return;},b['prototype']['on_scroll']=function(d){let f=d['currentTarget'],g=f['getAttribute']('data-id'),h=f['scrollTop'],i=document['querySelector']('.'+a['lines_class']+'[data-id=\x27'+g+'\x27]');i['scrollTop']=h,this['set_number'](i,f);},b['prototype']['on_resize']=function(d){let f=d[0x0]['target'],g=f['getAttribute']('data-id'),h=document['querySelector']('.'+a['lines_class']+'[data-id=\x27'+g+'\x27]');h&&(this['set_height'](f,h),this['set_number'](h,f));},b['prototype']['on_keydown']=function(d){if(d['keyCode']!==0x9)return;d['preventDefault']();let f=d['target'],g=f['value'],h=g['length'],i=f['selectionStart'],j=g['substr'](0x0,f['selectionStart']),k=g['substr'](f['selectionEnd'],h),l='\x09';return g=j+l+k,f['value']=g,f['setSelectionRange'](h+0x1,i+0x1),![];};let c=function(){};c['prototype']['currentScriptTag']=function(){var d=document['getElementsByTagName']('script');return this['currentScriptTag']=d[d['length']-0x1]['src'];}(),c['prototype']['event']=function(d,e,f,g){g=g?g:![],d['addEventListener']?d['addEventListener'](e,f,g):d['attachEvent']('on'+e,function(){f['call'](d,window['event']);});},c['prototype']['urlinfo']=function(d){d=d?d:location['href'];var e={},f=d['split']('#'),g=f[0x0]['split']('?'),h=g[0x0]['split']('/'),e={'uri':d,'url':h['join']('/'),'dir':h['slice'](0x0,h['length']-0x1)['join']('/')+'/','file':h['pop'](),'domain':h[0x2],'protocol':h[0x0]['replace'](':',''),'hash':f[0x1]?f[0x1]:'','query':g[0x1]?function(j){var k={},l=j['split']('#')[0x0]['split']('&');for(var m=0x0;m<l['length'];m++){var n=l[m]['split']('=');if(!n[0x0])continue;k[n[0x0]]=n[0x1];}return k;}(g[0x1]):[]};return e;},c['prototype']['construct']=function(d){switch(document['readyState']){case'complete':new d();break;case'interactive':this['event'](window,'DOMContentLoaded',function(e){new e();}['bind'](this,d));break;default:this['event'](window,'load',function(e){new e();}['bind'](this,d));break;}},c['prototype']['set_stylesheet']=function(d,e,f){let g,h=document['styleSheets'],i=0x0;for(i=0x0;i<h['length'];i++){g=h[i]['cssRules'];for(j=0x0;j<g['length'];j++){if(d===g[j]['selectorText']){g[j]['style']['setProperty'](e,f,''),i++;break;}}}},c['prototype']['get_stylesheet']=function(d,e){},c['prototype']['get_style']=function(d,e){return getComputedStyle(d,null)['getPropertyValue'](e);},new c()['construct'](b);}());